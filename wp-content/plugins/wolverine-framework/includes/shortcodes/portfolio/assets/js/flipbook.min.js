"use strict";var Page={config:{$bookBlock:"#flips",$navNext:".nav-next",$navPrev:".nav-prev",$ajaxUrl:""},init:function(a){Page.config.$ajaxUrl=a,jQuery(Page.config.$bookBlock).bookblock({speed:1e3,shadowSides:.8,easing:"ease-in-out",shadows:!0,shadowFlip:.4}),Page.initEvents(),Page.initFlipHeight(),Page.initMenuAndSearchClick(),jQuery(window).resize(function(){Page.initFlipHeight()}),jQuery(".portfolio-content",".entry-hover-inner").perfectScrollbar({wheelSpeed:1,suppressScrollX:!0}),Page.registerEventViewDetail();var b=Page.getUrlVars();""!=b&&("menu"==b.action&&jQuery("a","#flips .bb-item .menu").click(),"search"==b.action&&jQuery("a","#flips .bb-item .search").click())},initEvents:function(){var a=jQuery(Page.config.$bookBlock).children();jQuery(Page.config.$navNext).on("click touchstart",function(){return jQuery(Page.config.$bookBlock).bookblock("next"),!1}),jQuery(Page.config.$navPrev).on("click touchstart",function(){return jQuery(Page.config.$bookBlock).bookblock("prev"),!1}),a.on({swipeleft:function(a){return jQuery(Page.config.$bookBlock).bookblock("next"),!1},swiperight:function(a){return jQuery(Page.config.$bookBlock).bookblock("prev"),!1}}),jQuery(document).keydown(function(a){var b=a.keyCode||a.which,c={left:37,up:38,right:39,down:40};switch(b){case c.left:jQuery(Page.config.$bookBlock).bookblock("prev");break;case c.right:jQuery(Page.config.$bookBlock).bookblock("next")}})},initFlipHeight:function(){var a=500,b=(jQuery(window).width(),jQuery("#wpadminbar")),c=0;b.length>0&&(c=b.height()),jQuery(window).outerHeight()>a&&(a=jQuery(window).outerHeight()-c),jQuery("#flips").css("height",a);var d=25,e=25,f=a-d-e;jQuery("#flips .bb-item .bb-item-inner .bb-custom-side").css("height",f),setTimeout(function(){Page.initEntryHover()},500)},initEntryHover:function(){var a=jQuery(".entry-hover",".content-wrap").height(),b=jQuery(".icon-logo",".content-wrap").outerHeight(),c=jQuery(window).width(),d=60;500>=c&&(d=20);var e=a-b-d;jQuery(".portfolio-content",".content-wrap").css("height",e)},initFlipOtherPageHeight:function(){var a=600,b=jQuery("#wpadminbar"),c=50;b.length>0&&(c+=b.height()),jQuery(window).outerHeight()>a&&(a=jQuery(window).outerHeight()-c),jQuery(".other-page-flipbook .flipbook-col-left").css("height",a),jQuery(".other-page-flipbook .flipbook-col-right").css("height",a),jQuery(".other-page-flipbook .flipbook-col-right > .wpb_wrapper:first").css("height",a),jQuery(".other-page-flipbook .flipbook-col-right > .wpb_wrapper .flipbook-content:first").parent().addClass("vertical-middle");var d=a-300,e=jQuery(".other-page-flipbook .flipbook-col-left .wpb_wrapper .flipbook-content").parent();jQuery(e).css("height",d),jQuery(e).perfectScrollbar({wheelSpeed:1,suppressScrollX:!0})},initMenuAndSearchClick:function(){jQuery("a","#flips .bb-item .menu").click(function(){jQuery(".bb-item","#flips").each(function(){if("block"==jQuery(this).css("display")){var a=jQuery(this).attr("data-post-id"),b=jQuery("#post_bg_"+a,this).css("background-image"),c=jQuery("#post_thumbnail_"+a,this).attr("src"),d=jQuery("#post_title_"+a,this).html(),e=jQuery("#post_content_"+a,this).html(),f=jQuery(this).attr("data-page-index"),g=jQuery("#bb-menu-item-template").html();jQuery(this).before(g),jQuery("#post_bg_first","#flips").css("background-image",b),jQuery("#post_thumbnail_first","#flips").attr("src",c),jQuery("#post_title_first","#flips").html(d),jQuery("#post_content_first","#flips").html(e),jQuery(".bb-item.template","#flips").attr("data-page-index",f),jQuery(".nav-next","#flips .bb-item.template").click(function(){var a=jQuery("#flips .bb-item.template").attr("data-page-index");a=parseInt(a),jQuery(Page.config.$bookBlock).bookblock("next"),jQuery(".bb-item.template","#flips").remove(),jQuery(Page.config.$bookBlock).bookblock("update_current_index",a-1)}),Page.registerEventViewDetail(),jQuery(Page.config.$bookBlock).bookblock("update"),jQuery(Page.config.$bookBlock).bookblock("prev"),Page.initEntryHover()}})}),jQuery("a","#flips .bb-item .search").click(function(){jQuery(".bb-item","#flips").each(function(){if("block"==jQuery(this).css("display")){var a=jQuery(this).attr("data-post-id"),b=jQuery("#post_bg_"+a,this).css("background-image"),c=jQuery("#post_thumbnail_"+a,this).attr("src"),d=jQuery("#post_title_"+a,this).html(),e=jQuery("#post_content_"+a,this).html(),f=jQuery(this).attr("data-page-index"),g=jQuery("#bb-search-item-template").html();jQuery(this).after(g),jQuery("#post_bg_last","#flips").css("background-image",b),jQuery("#post_thumbnail_last","#flips").attr("src",c),jQuery("#post_title_last","#flips").html(d),jQuery("#post_content_last","#flips").html(e),jQuery(".bb-item.template","#flips").attr("data-page-index",f),jQuery(".nav-prev","#flips .bb-item.template").click(function(){var a=jQuery("#flips .bb-item.template").attr("data-page-index");a=parseInt(a),jQuery(Page.config.$bookBlock).bookblock("prev"),jQuery(".bb-item.template","#flips").remove(),jQuery(Page.config.$bookBlock).bookblock("update_current_index",a-1)}),jQuery(document).ready(function(){jQuery(".search-button",".bb-custom-lastpage").click(function(){{var a=jQuery("i",this);jQuery(this)}0==a.length?Page.search(this):jQuery(a).hasClass("fa-close")&&Page.closeSearch()}),jQuery('input[type="text"]',".bb-custom-lastpage").on("keyup",function(a){var b=jQuery(".search-button",jQuery(this).parent());switch(a.which){case 13:""!=jQuery(this).val()&&Page.search(b);break;case 27:Page.closeSearch()}})}),Page.registerEventViewDetail(),jQuery(Page.config.$bookBlock).bookblock("update"),jQuery(Page.config.$bookBlock).bookblock("next"),Page.initEntryHover(),setTimeout(function(){jQuery('input[type="text"]',".bb-custom-lastpage").focus()},1500)}})})},search:function(a){var b=(jQuery(a).html(),jQuery('input[type="text"]',jQuery(a).parent()).val());jQuery(a).html('<i class="fa fa-spin fa-spinner"></i>'),jQuery.ajax({type:"POST",data:"action=g5plus_framework_portfolio_search&keyword="+b,url:Page.config.$ajaxUrl,success:function(b){jQuery(a).html('<i class="fa fa-close"></i>');var c=jQuery(a).parent(),d=jQuery(".search-result ul",c),e=jQuery.parseJSON(b);if(e.length){var f="";if(-1==e[0].id)f+='<li class="selected">'+e[0].title+"</li>",jQuery(d).css("height","80px");else{for(var g=0;g<e.length;g++)f+=0==g?'<li class="selected">':"<li>",f+='<a class="secondary-font ladda-button" data-style="zoom-out"  data-post-id="'+e[g].id+'" href="javascript:;">',f+=e[g].title+"</a>",f+="</li>";jQuery(d).css("height","200px")}jQuery(d).html(""),jQuery(d).append(f),jQuery(d).perfectScrollbar({wheelSpeed:1,suppressScrollX:!0}),jQuery(".search-result ul li a",".bb-custom-lastpage").click(function(){Page.initEventViewDetail(this)})}}})},closeSearch:function(){var a=jQuery(".search-button",".bb-custom-lastpage"),b=jQuery(a).parent(),c=jQuery(".search-result ul",b);jQuery(c).css("height","0"),jQuery(c).html(""),jQuery('input[type="text"]',b).val(""),jQuery('input[type="text"]',b).focus(),jQuery(a).html(jQuery(a).attr("data-title"))},initEventViewDetail:function(a){var b=jQuery(a).attr("data-post-id"),c=Ladda.create(a);c.start(),jQuery.ajax({type:"POST",async:!1,data:"action=g5plus_framework_portfolio_get_detail&post_id="+b,url:Page.config.$ajaxUrl,success:function(a){c.stop();var b="#section-portfolio-detail";jQuery(b).html(a),jQuery(b).addClass("show");var d=500,e=jQuery("#wpadminbar"),f=0,g=jQuery(window).width();e.length>0&&(f=e.height()),jQuery(window).outerHeight()>d&&(d=jQuery(window).outerHeight()-f),jQuery(".post-slideshow",b).owlCarousel({items:1,singleItem:!0,navigation:!1,slideSpeed:600,pagination:!0}),g>768&&jQuery(b).css("height",d);var h=jQuery(".bb-item-inner.first-page",b).height(),i=jQuery(".portfolio-title",b).outerHeight(!0),j=jQuery(".logo",b).outerHeight(!0),k=jQuery(".copyright",b).outerHeight(!0),l=80,m=50,n=h-l-m-j-i-k;jQuery(".firstpage-inner",b).css("height",n),jQuery(".firstpage-inner",b).perfectScrollbar({wheelSpeed:1,suppressScrollX:!0}),jQuery("#flips").fadeOut(),jQuery(b).fadeIn(),jQuery(".close-popup-detail a",b).click(function(){jQuery(b).fadeOut(),jQuery(b).html(""),jQuery(b).removeClass("show"),jQuery("#flips").fadeIn()})}})},registerEventViewDetail:function(){jQuery("a.view-detail",".portfolio-wrapper").off(),jQuery("a.view-detail",".portfolio-wrapper").click(function(){Page.initEventViewDetail(this)})},getUrlVars:function(){for(var a,b=[],c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),d=0;d<c.length;d++)a=c[d].split("="),b.push(a[0]),b[a[0]]=a[1];return b}};