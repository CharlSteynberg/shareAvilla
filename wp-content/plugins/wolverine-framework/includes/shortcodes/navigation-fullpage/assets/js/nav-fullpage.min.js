(function(a){var b={isWheelRun:false,sectionArr:[],currentSection:"",currentSectionIndex:-1,windowHeight:0,wrapper:a("#wrapper"),isDesktop:function(){var d=991;var c=a(".x-nav-menu");if((c.length>0)&&(typeof(c.attr("responsive-breakpoint"))!="undefined")&&!isNaN(parseInt(c.attr("responsive-breakpoint"),10))){d=parseInt(c.attr("responsive-breakpoint"),10)}return window.matchMedia("(min-width: "+(d+1)+"px)").matches},init:function(){b.setFullHeight();b.windowHeight=a(window).height();var d=0;a(".shortcode-nav-fullpage-wrap .nav-full-page a").each(function(e){var f=a(this).attr("href");if(a(f).length==0){return}b.sectionArr[d]=f;d++});if(d==0){return}b.handleClick();b.handleScroll();if(b.wrapper.length>0){var c=b.wrapper[0];if(c.addEventListener){c.addEventListener("mousewheel",b.fullPageMouseWheel,false);c.addEventListener("wheel",b.fullPageMouseWheel,false);c.addEventListener("DOMMouseScroll",b.fullPageMouseWheel,false)}else{c.attachEvent("onmousewheel",b.fullPageMouseWheel)}}b.wrapper.trigger("scroll")},handleScroll:function(){b.wrapper.scroll(function(e){if(!b.isDesktop()){return}var f=a(b.wrapper).scrollTop();for(var d=b.sectionArr.length-1;d>=0;d--){if(a(b.sectionArr[d]).length==0){continue}var c=a(b.sectionArr[d]).position().top;if(f<c){continue}if(a('.shortcode-nav-fullpage-wrap .nav-full-page a[href="'+b.sectionArr[d]+'"]').parent().hasClass("nav-current")){return}b.currentSection=b.sectionArr[d];b.currentSectionIndex=d;a(".shortcode-nav-fullpage-wrap .nav-full-page li").removeClass("nav-current");a('.shortcode-nav-fullpage-wrap .nav-full-page a[href="'+b.sectionArr[d]+'"]').parent().addClass("nav-current");return}})},handleClick:function(c){a(".shortcode-nav-fullpage-wrap .nav-full-page a,.menu-one-page li.x-menu-item > a").click(function(e){if(!b.isDesktop()){return}var g=a(this).attr("href").split("#");if(g.length<=1){return}e.preventDefault();var f="#"+g[1];if(b.isWheelRun){return}if(a(f).length==0){return}var d=a(f).position().top;b.currentSectionIndex=b.sectionArr.indexOf(f);b.currentSection=b.sectionArr[b.currentSectionIndex];b.isWheelRun=true;b.wrapper.animate({scrollTop:d},500,"easeInOutCubic",function(){b.isWheelRun=false})})},fullPageMouseWheel:function(f){if(!b.isDesktop()){return}f.preventDefault();if(b.isWheelRun){return}if(f.deltaY>0){var h=b.wrapper.height();var g=a(b.wrapper).scrollTop();var e=a(b.currentSection).outerHeight();var c=a(b.currentSection).position().top;var d=e+c-(g+h)>h?h:e+c-(g+h);if(g+h<e+c){b.isWheelRun=true;b.wrapper.animate({scrollTop:g+d},700,"easeInOutCubic",function(){b.isWheelRun=false});return}if(b.currentSectionIndex>=b.sectionArr.length-1){return}b.currentSectionIndex++;b.currentSection=b.sectionArr[b.currentSectionIndex];if(a(b.sectionArr[b.currentSectionIndex]).length==0){return}c=a(b.sectionArr[b.currentSectionIndex]).position().top;b.isWheelRun=true;b.wrapper.animate({scrollTop:c},700,"easeInOutCubic",function(){b.isWheelRun=false})}else{var h=b.wrapper.height();var g=a(b.wrapper).scrollTop();var e=a(b.currentSection).outerHeight();var c=a(b.currentSection).position().top;var d=g-c>h?h:g-c;if(g>c){b.isWheelRun=true;b.wrapper.animate({scrollTop:g-d},700,"easeInOutCubic",function(){b.isWheelRun=false});return}if(b.currentSectionIndex==0){return}b.currentSectionIndex--;b.currentSection=b.sectionArr[b.currentSectionIndex];if(a(b.sectionArr[b.currentSectionIndex]).length==0){return}var c=a(b.sectionArr[b.currentSectionIndex]).position().top;b.isWheelRun=true;b.wrapper.animate({scrollTop:c},700,"easeInOutCubic",function(){b.isWheelRun=false})}},setFullHeight:function(){var c=0;if((a("#wpadminbar").length>0)&&(a("#wpadminbar").css("position")=="fixed")){c=a("#wpadminbar").outerHeight()}b.wrapper.css("overflow","");b.wrapper.css("position","");b.wrapper.css("height","");a(".md-full-height").parent().css("height","");a(".md-full-height").css("height","");if(b.isDesktop()){b.wrapper.css("overflow","hidden");b.wrapper.css("position","relative");b.wrapper.css("height",(a(window).height()-40-c)+"px");var d=a(b.wrapper).height();if(a(".md-full-height").length){a(".md-full-height").each(function(){a(this).parent().css("min-height",d+"px");a(this).css("height",a(this).parent().height()+"px")})}a(".shortcode-nav-fullpage-wrap").css("display","")}else{a(".shortcode-nav-fullpage-wrap").css("display","none")}},load:function(){var c=0;if((a("#wpadminbar").length>0)&&(a("#wpadminbar").css("position")=="fixed")){c=a("#wpadminbar").outerHeight()}b.wrapper.css("overflow","hidden");b.wrapper.css("position","relative");b.wrapper.css("height",(a(window).height()-40-c)+"px");b.setFullHeight();b.windowHeight=a(window).height()},resize:function(){b.setFullHeight()}};a.extend(a.easing,{easeInOutCubic:function(f,g,e,i,h){if((g/=h/2)<1){return i/2*g*g*g+e}return i/2*((g-=2)*g*g+2)+e}});a(document).ready(b.init);a(window).load(b.load);a(window).resize(b.resize)})(jQuery);